easyblock = 'Bundle'
name = 'RPlus'
version = '3.3.3'           # Same as the vanilla R module on which these add-on modules depend.
versionsuffix = '-v17.06.1' # In format YY.MM.IncrementedReleaseNumber.
homepage = 'http://www.r-project.org/'
description = """R is a free software environment for statistical computing and graphics."""
toolchain = {'name': 'foss', 'version': '2018b'}
moduleclass = 'lang'
modextrapaths = {'R_LIBS': ['library', '']}

dependencies = [
    ('R', '%(version)s','-bare'),
    ('GMP', '6.1.1'),                # For igraph
    ('NLopt', '2.4.2'),              # For nloptr
]

# The '.' is a silly workaround to check for whatever current dir as workaround 
# until an updated RPackage is available, which installs extension R packages in a library subdir.
sanity_check_paths = {
    'files': [],
    'dirs': [('library', '.')],
}

package_name_tmpl = '%(name)s_%(version)s.tar.gz'
exts_defaultclass = 'RPackage'
exts_filter = ("R -q --no-save", "library(%(ext_name)s)")

cran_options = {
    'source_urls': [
        'http://cran.r-project.org/src/contrib/',
        'http://cran.r-project.org/src/contrib/Archive/%(name)s',
    ],
    'source_tmpl': package_name_tmpl,
}

bioconductor_options = {
    'source_urls': [
        'http://www.bioconductor.org/packages/release/bioc/src/contrib/',
        'http://www.bioconductor.org/packages/release/data/annotation/src/contrib/',
        'http://www.bioconductor.org/packages/release/data/experiment/src/contrib/',
        'http://bioconductor.org/packages/3.4/bioc/src/contrib/',
        'http://bioconductor.org/packages/3.4/data/annotation/src/contrib/',
        'http://bioconductor.org/packages/3.4/data/experiment/src/contrib/',
        'http://bioconductor.org/packages/3.4/extra/src/contrib/',
    ],
    'source_tmpl': package_name_tmpl,
}

#
# R package list.
#   * Order of packages is important!
#   * Packages should be specified with fixed versions!
#
exts_list = [
        ('acepack', '1.4.1', cran_options),
        ('MASS', '7.3-47', cran_options),
        ('combinat', '0.0-8', cran_options),
        ('klaR', '0.6-12', cran_options),
        ('lattice', '0.20-35', cran_options),
        ('nlme', '3.1-131', cran_options),
        ('cluster', '2.0.6', cran_options),
        ('sp', '1.2-4', cran_options),
        ('Matrix', '1.2-8', cran_options),
        ('LearnBayes', '2.15', cran_options),
        ('deldir', '0.1-14', cran_options),
        ('boot', '1.3-19', cran_options),
        ('coda', '0.19-1', cran_options),
        ('gtools', '3.5.0', cran_options),
        ('gdata', '2.17.0', cran_options),
        ('gmodels', '2.16.2', cran_options),
        ('expm', '0.999-2', cran_options),
        ('spdep', '0.6-13', cran_options),
        ('AlgDesign', '1.1-7.3', cran_options),
        ('agricolae', '1.2-4', cran_options),
        ('BiocGenerics', '0.20.0', bioconductor_options),
        ('Biobase', '2.34.0', bioconductor_options),
        ('S4Vectors', '0.12.2', bioconductor_options),
        ('IRanges', '2.8.2', bioconductor_options),
        ('DBI', '0.6-1', cran_options),
        ('digest', '0.6.12', cran_options),
        ('memoise', '1.1.0', cran_options),
        ('Rcpp', '0.12.10', cran_options),
        ('BH', '1.62.0-1', cran_options),
        ('plogr', '0.1-1', cran_options),
        ('RSQLite', '1.1-2', cran_options),
        ('AnnotationDbi', '1.36.2', bioconductor_options),
        ('XML', '3.98-1.6', cran_options),
        ('xtable', '1.8-2', cran_options),
        ('bitops', '1.0-6', cran_options),
        ('RCurl', '1.95-4.8', cran_options),
        ('annotate', '1.52.1', bioconductor_options),
        ('ape', '4.1', cran_options),
        ('proto', '1.0.0', cran_options),
        ('findpython', '1.0.2', cran_options),
        ('getopt', '1.20.0', cran_options),
        ('rjson', '0.2.15', cran_options),
        ('argparse', '1.0.4', cran_options),
        ('argparser', '0.4', cran_options),
        ('assertthat', '0.2.0', cran_options),
        ('backports', '1.0.5', cran_options),
        ('base64enc', '0.1-3', cran_options),
        ('bdsmatrix', '1.3-2', cran_options),
        ('beeswarm', '0.2.3', cran_options),
        ('hglm.data', '1.0-0', cran_options),
        ('hglm', '2.1-1', cran_options),
        ('DatABEL', '0.9-6', cran_options),
        ('bigRR', '1.3-10', cran_options),
        ('BiocInstaller', '1.24.0', bioconductor_options),
        ('lambda.r', '1.1.9', cran_options),
        ('futile.options', '1.0.0', cran_options),
        ('futile.logger', '1.4.3', cran_options),
        ('snow', '0.4-2', cran_options),
        ('BiocParallel', '1.8.2', bioconductor_options),
        ('zlibbioc', '1.20.0', bioconductor_options),
        ('XVector', '0.14.1', bioconductor_options),
        ('Biostrings', '2.42.1', bioconductor_options),
        ('bit', '1.1-12', cran_options),
        ('bit64', '0.9-5', cran_options),
        ('GenomeInfoDb', '1.10.3', bioconductor_options),
        ('GenomicRanges', '1.26.4', bioconductor_options),
        ('Rsamtools', '1.26.2', bioconductor_options),
        ('SummarizedExperiment', '1.4.0', bioconductor_options),
        ('GenomicAlignments', '1.10.1', bioconductor_options),
        ('rtracklayer', '1.34.2', bioconductor_options),
        ('BSgenome', '1.42.0', bioconductor_options),
        ('BSgenome.Hsapiens.UCSC.hg19', '1.4.0', bioconductor_options),
        ('Cairo', '1.5-9', cran_options),
        ('mgcv', '1.8-17', cran_options),
        ('nnet', '7.3-12', cran_options),
        ('minqa', '1.2.4', cran_options),
        ('nloptr', '1.0.4', cran_options),
        ('RcppEigen', '0.3.2.9.1', cran_options),
        ('lme4', '1.1-13', cran_options),
        ('pbkrtest', '0.4-7', cran_options),
        ('SparseM', '1.77', cran_options),
        ('MatrixModels', '0.4-1', cran_options),
        ('quantreg', '5.33', cran_options),
        ('car', '2.1-4', cran_options),
        ('gtable', '0.2.0', cran_options),
        ('plyr', '1.8.4', cran_options),
        ('stringi', '1.1.5', cran_options),
        ('magrittr', '1.5', cran_options),
        ('stringr', '1.2.0', cran_options),
        ('reshape2', '1.4.2', cran_options),
        ('RColorBrewer', '1.1-2', cran_options),
        ('dichromat', '2.0-0', cran_options),
        ('colorspace', '1.3-2', cran_options),
        ('munsell', '0.4.3', cran_options),
        ('labeling', '0.3', cran_options),
        ('scales', '0.4.1', cran_options),
        ('lazyeval', '0.2.0', cran_options),
        ('tibble', '1.3.0', cran_options),
        ('ggplot2', '2.2.1', cran_options),
        ('codetools', '0.2-15', cran_options),
        ('iterators', '1.0.8', cran_options),
        ('foreach', '1.4.3', cran_options),
        ('ModelMetrics', '1.1.0', cran_options),
        ('caret', '6.0-76', cran_options),
        ('caTools', '1.17.1', cran_options),
        ('zoo', '1.8-0', cran_options),
        ('changepoint', '2.2.2', cran_options),
        ('checkmate', '1.8.2', cran_options),
        ('chron', '2.3-50', cran_options),
        ('class', '7.3-14', cran_options),
        ('CODEX', '1.6.0', bioconductor_options),
        ('jsonlite', '1.4', cran_options),
        ('rex', '1.1.1', cran_options),
        ('mime', '0.5', cran_options),
        ('curl', '2.5', cran_options),
        ('openssl', '0.9.6', cran_options),
        ('R6', '2.2.0', cran_options),
        ('httr', '1.2.1', cran_options),
        ('crayon', '1.3.2', cran_options),
        ('withr', '1.0.2', cran_options),
        ('covr', '2.2.2', cran_options),
        ('data.table', '1.10.4', cran_options),
        ('DEoptimR', '1.0-8', cran_options),
        ('survival', '2.41-3', cran_options),
        ('genefilter', '1.56.0', bioconductor_options),
        ('locfit', '1.5-9.1', cran_options),
        ('geneplotter', '1.52.0', bioconductor_options),
        ('Formula', '1.2-1', cran_options),
        ('latticeExtra', '0.6-28', cran_options),
        ('rpart', '4.1-11', cran_options),
        ('foreign', '0.8-68', cran_options),
        ('gridExtra', '2.2.1', cran_options),
        ('evaluate', '0.10', cran_options),
        ('highr', '0.6', cran_options),
        ('markdown', '0.8', cran_options),
        ('yaml', '2.1.14', cran_options),
        ('knitr', '1.15.1', cran_options),
        ('htmltools', '0.3.5', cran_options),
        ('htmlwidgets', '0.8', cran_options),
        ('htmlTable', '1.9', cran_options),
        ('viridisLite', '0.2.0', cran_options),
        ('viridis', '0.4.0', cran_options),
        ('Hmisc', '4.0-2', cran_options),
        ('RcppArmadillo', '0.7.800.2.0', cran_options),
        ('DESeq2', '1.14.1', bioconductor_options),
        ('deSolve', '1.14', cran_options),
        ('dlm', '1.1-4', cran_options),
        ('DNAcopy', '1.48.0', bioconductor_options),
        ('doParallel', '1.0.10', cran_options),
        ('dplyr', '0.5.0', cran_options),
        ('dtplyr', '0.0.2', cran_options),
        ('e1071', '1.6-8', cran_options),
        ('limma', '3.30.13', bioconductor_options),
        ('edgeR', '3.16.5', bioconductor_options),
        ('epitools', '0.5-9', cran_options),
        ('fastmatch', '1.1-0', cran_options),
        ('timeDate', '3012.100', cran_options),
        ('timeSeries', '3022.101.2', cran_options),
        ('gss', '2.1-7', cran_options),
        ('stabledist', '0.7-1', cran_options),
        ('fBasics', '3011.87', cran_options),
        ('fGarch', '3010.82.1', cran_options),
        ('mstate', '0.2.10', cran_options),
        ('muhaz', '1.2.6', cran_options),
        ('mvtnorm', '1.0-6', cran_options),
        ('quadprog', '1.5-5', cran_options),
        ('flexsurv', '1.1', cran_options),
        ('tseries', '0.10-40', cran_options),
        ('fracdiff', '1.4-2', cran_options),
        ('lmtest', '0.9-35', cran_options),
        ('forecast', '8.0', cran_options),
        ('formatR', '1.5', cran_options),
        ('gam', '1.14-4', cran_options),
        ('gamlss.data', '5.0-0', cran_options),
        ('gamlss.dist', '5.0-0', cran_options),
        ('gamlss', '5.0-1', cran_options),
        ('gapminder', '0.2.0', cran_options),
        ('gbm', '2.1.3', cran_options),
        ('gdtools', '0.1.4', cran_options),
        ('GenABEL.data', '1.0.0', cran_options),
        ('GenABEL', '1.8-0', cran_options),
        ('genetics', '1.3.8.1', cran_options),
        ('tidyr', '0.6.1', cran_options),
        ('ggfortify', '0.4.1', cran_options),
        ('ggplot2movies', '0.0.1', cran_options),
        ('ggrepel', '0.6.5', cran_options),
        ('glmnet', '2.0-5', cran_options),
        ('KernSmooth', '2.23-15', cran_options),
        ('gplots', '3.0.1', cran_options),
        ('gridBase', '0.4-7', cran_options),
        ('gsalib', '2.1', cran_options),
        ('polspline', '1.1.12', cran_options),
        ('TH.data', '1.0-8', cran_options),
        ('sandwich', '2.3-4', cran_options),
        ('multcomp', '1.4-6', cran_options),
        ('rms', '5.1-0', cran_options),
        ('haplo.stats', '1.7.7', cran_options),
        ('hexbin', '1.27.1', cran_options),
        ('httpuv', '1.3.3', cran_options),
        ('registry', '0.3', cran_options),
        ('pkgmaker', '0.22', cran_options),
        ('rngtools', '1.2.4', cran_options),
        ('NMF', '0.20.6', cran_options),
        ('irlba', '2.1.2', cran_options),
        ('igraph', '1.0.1', cran_options),
        ('igraphdata', '1.0.1', cran_options),
        ('inlinedocs', '2013.9.3', cran_options),
        ('KFAS', '1.2.6', cran_options),
        ('Lahman', '5.0-0', cran_options),
        ('RSpectra', '0.12-0', cran_options),
        ('rARPACK', '0.11-0', cran_options),
        ('lfda', '1.1.2', cran_options),
        ('stringdist', '0.9.4.4', cran_options),
        ('praise', '1.0.0', cran_options),
        ('testthat', '1.0.2', cran_options),
        ('rstudioapi', '0.6', cran_options),
        ('lintr', '1.0.0', cran_options),
        ('logging', '0.7-103', cran_options),
        ('logspline', '2.1.9', cran_options),
        ('maps', '3.1.1', cran_options),
        ('mapdata', '2.2-6', cran_options),
        ('mapproj', '1.2-4', cran_options),
        ('maptools', '0.9-2', cran_options),
        ('mcmc', '0.9-5', cran_options),
        ('MCMCpack', '1.3-9', cran_options),
        ('memisc', '0.99.8', cran_options),
        ('MetABEL', '0.2-0', cran_options),
        ('microbenchmark', '1.4-2.1', cran_options),
        ('mlbench', '2.1-1', cran_options),
        ('msm', '1.6.4', cran_options),
        ('MSwM', '1.2', cran_options),
        ('numDeriv', '2016.8-1', cran_options),
        ('nws', '1.7.0.1', cran_options),
        ('nycflights13', '0.2.2', cran_options),
        ('optparse', '1.3.2', cran_options),
        ('outliers', '0.14', cran_options),
        ('PBSmodelling', '2.67.266', cran_options),
        ('penalized', '0.9-50', cran_options),
        ('permute', '0.9-4', cran_options),
        ('pixmap', '0.4-11', cran_options),
        ('plm', '1.6-5', cran_options),
        ('plotrix', '3.6-4', cran_options),
        ('polyester', '1.10.1', bioconductor_options),
        ('ROCR', '1.0-7', cran_options),
        ('PredictABEL', '1.2-2', cran_options),
        ('pscl', '1.4.9', cran_options),
        ('randomForest', '4.6-12', cran_options),
        ('raster', '2.5-8', cran_options),
        ('reshape', '0.8.6', cran_options),
        ('sourcetools', '0.1.6', cran_options),
        ('shiny', '1.0.3', cran_options),
        ('rgl', '0.98.1', cran_options),
        ('RGraphics', '2.0-14', cran_options),
        ('rlecuyer', '0.3-4', cran_options),
        ('rprojroot', '1.2', cran_options),
        ('rmarkdown', '1.5', cran_options),
        ('rmeta', '2.16', cran_options),
        ('Rmisc', '1.5', cran_options),
        ('RMySQL', '0.10.11', cran_options),
        ('robustbase', '0.92-7', cran_options),
        ('rphast', '1.6.5', cran_options),
        ('sets', '1.0-17', cran_options),
        ('spatial', '7.3-11', cran_options),
        ('strucchange', '1.5-1', cran_options),
        ('svglite', '1.2.0', cran_options),
        ('svUnit', '0.7-12', cran_options),
        ('testit', '0.6', cran_options),
        ('tufte', '0.2', cran_options),
        ('urca', '1.3-0', cran_options),
        ('VariABEL', '0.9-2.1', cran_options),
        ('vars', '1.5-2', cran_options),
        ('vcd', '1.4-3', cran_options),
        ('vegan', '2.4-3', cran_options),
        ('WES.1KG.WUGSC', '1.6.0', bioconductor_options),
        ('xhmmScripts', '1.1', cran_options),
        ('xts', '0.9-7', cran_options),
        ('quantsmooth', '1.40.0', bioconductor_options),
]
